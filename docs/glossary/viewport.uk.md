# В'юпорт

**В'юпорт** (Viewport) — це видима область веб-сторінки в межах вікна браузера або екрану мобільного пристрою. Ця фундаментальна концепція у веб-розробці та аналітиці визначає, який контент користувачі можуть бачити без прокручування, безпосередньо впливаючи на користувацький досвід, дизайнерські рішення та метрики залученості.

## Технічні аспекти в'юпорта

### Типи в'юпортів

**В'юпорт макета (Layout Viewport)** містить весь макет сторінки, який може виходити за межі видимої області. На мобільних пристроях він зазвичай ширший за візуальний в'юпорт:

```html
<meta name="viewport" content="width=980">
```

**Візуальний в'юпорт (Visual Viewport)** представляє те, що зараз видно на екрані. Користувачі можуть масштабувати та панорамувати для переміщення візуального в'юпорта:

- `window.innerWidth` та `window.innerHeight` для розмірів
- `window.pageXOffset` та `window.pageYOffset` для позиції прокрутки
- API `visualViewport` для точних вимірювань

**Ідеальний в'юпорт (Ideal Viewport)** — оптимальний розмір для пристрою при відображенні адаптивного контенту:

```html
<meta name="viewport" content="width=device-width, initial-scale=1">
```

### Мета-тег viewport

Мета-тег viewport контролює відображення контенту на мобільних браузерах:

```html
<!-- Найкраща практика для адаптивного дизайну -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
```

Основні властивості мета-тегу viewport:

| Властивість | Опис | Значення |
|------------|------|----------|
| width | Контролює ширину в'юпорта | device-width, конкретне значення |
| initial-scale | Встановлює початковий масштаб | 0.1 до 10 (1 = 100%) |
| maximum-scale | Максимальний дозволений масштаб | 0.1 до 10 |
| minimum-scale | Мінімальний дозволений масштаб | 0.1 до 10 |
| user-scalable | Дозволяє масштабування пальцями | yes/no |

## Розміри в'юпорта та пристрої

### Типові розміри в'юпортів

**Десктопні в'юпорти:**

- Мінімальні: 1024×768 пікселів (старі стандарти)
- Поширені: 1366×768, 1920×1080 (Full HD)
- Великі: 2560×1440 (2K), 3840×2160 (4K)

**Мобільні в'юпорти:**

- Телефони: 360×640 до 428×926 пікселів
- Планшети: 768×1024 до 1366×1024 пікселів
- Складані пристрої: Динамічні в'юпорти

!!! info "Важлива відмінність"
    Роздільна здатність екрана відрізняється від розміру в'юпорта. Пристрій з 2880×1440 фізичними пікселями може мати в'юпорт 360×640 CSS-пікселів через співвідношення пікселів пристрою (DPR).

### Брейкпоінти для адаптивного дизайну

| Категорія пристрою | Брейкпоінт | Типове використання |
|-------------------|------------|---------------------|
| Мобільний | <576px | Одна колонка, оптимізовано для дотиків |
| Планшет (портрет) | 576-768px | Дві колонки, більші цілі для дотиків |
| Планшет (ландшафт) | 768-992px | Багатоколонковий, навігація як на десктопі |
| Десктоп | 992-1200px | Повний десктопний досвід |
| Великий десктоп | >1200px | Максимальна ширина контенту, бічні панелі |

## В'юпорт в веб-аналітиці

Аналітичні платформи відстежують розміри в'юпорта для розуміння контексту користувача:

**Аналіз видимості контенту:**

- Експозиція контенту "над згином"
- Показники видимості елементів
- Вимоги до глибини прокрутки
- Ефективність позиціонування CTA

**Метрики користувацького досвіду:**

- Патерни використання мобільних vs десктопних
- Розподіл розмірів екранів
- Переваги орієнтації (портрет/ландшафт)
- Використання рівня масштабування

!!! tip "Впровадження аналітики"
    Відстежуйте розміри в'юпорта при завантаженні сторінки та подіях зміни розміру. Зберігайте початковий розмір в'юпорта окремо від поточного для розуміння користувацьких налаштувань.

## JavaScript для роботи з в'юпортом

### Виявлення розмірів в'юпорта

```javascript
// Базові розміри в'юпорта
const viewportWidth = window.innerWidth;
const viewportHeight = window.innerHeight;

// Visual Viewport API (сучасні браузери)
if (window.visualViewport) {
  const vv = window.visualViewport;
  console.log(`Ширина: ${vv.width}, Висота: ${vv.height}`);
  console.log(`Масштаб: ${vv.scale}, Зміщення: ${vv.offsetLeft}, ${vv.offsetTop}`);
}

// Виявлення змін в'юпорта
window.addEventListener('resize', () => {
  // Обробка зміни розміру в'юпорта
});

window.visualViewport?.addEventListener('resize', () => {
  // Обробка змін візуального в'юпорта (масштаб, клавіатура)
});
```

### CSS одиниці в'юпорта

CSS надає відносні одиниці для адаптивного дизайну:

- `vw` — 1% ширини в'юпорта
- `vh` — 1% висоти в'юпорта
- `vmin` — 1% меншого виміру в'юпорта
- `vmax` — 1% більшого виміру в'юпорта
- `dvh`, `svh`, `lvh` — динамічна, мала та велика висота в'юпорта (нові одиниці)

!!! warning "Особливості мобільних браузерів"
    Мобільні браузери мають динамічну висоту в'юпорта через панелі адрес, що згортаються. Нові одиниці в'юпорта (dvh, svh, lvh) вирішують цю невідповідність.

## Контент "над згином"

"Над згином" (above-the-fold) — контент, видимий у початковому в'юпорті без прокручування:

**Вплив на залученість:**

- Перші враження формуються за 50 мілісекунд
- 80% часу перегляду проводиться над згином
- 70% користувачів ніколи не прокручують на лендінгах

**Метрики продуктивності:**

- Largest Contentful Paint (LCP) має відбуватися над згином
- Видимість First Contentful Paint (FCP)
- Cumulative Layout Shift (CLS) у в'юпорті

**Оптимізація конверсії:**

- Основні CTA повинні з'являтися над згином
- Ключові ціннісні пропозиції мають бути одразу видимі
- Розміщення сигналів довіри та соціального доказу

## Мобільні виклики

### Динамічна висота в'юпорта

Мобільні браузери представляють унікальні виклики:

- Панель адрес, що показується/приховується, змінює висоту
- Віртуальна клавіатура зменшує доступний в'юпорт
- Безпечні зони на пристроях з вирізами/закругленими кутами
- Зміни орієнтації кардинально змінюють в'юпорт

### Сенсорні взаємодії

Врахування в'юпорта для сенсорних пристроїв:

- Мінімальний розмір цілі дотику: 44×44px (iOS) або 48×48px (Android)
- Зони досяжності великого пальця залежать від розміру в'юпорта
- Жести свайпу з краю можуть конфліктувати з краями в'юпорта
- Масштабування пальцями впливає на візуальний в'юпорт

!!! note "Врахування доступності"
    Користувачі можуть масштабувати до 400% для доступності. Переконайтеся, що ваш макет залишається функціональним при різних масштабах в'юпорта.

## Вплив на продуктивність

### Завантаження ресурсів

Усвідомлення в'юпорта оптимізує доставку ресурсів:

- Ліниве завантаження зображень та відео під згином
- Пріоритизація контенту над згином у критичному CSS
- Відкладення невидимої функціональності JavaScript
- Впровадження адаптивних зображень на основі в'юпорта

### Оптимізація рендерингу

Браузери оптимізують рендеринг на основі в'юпорта:

- Спочатку малюють лише видиму область в'юпорта
- Віртуальне прокручування для довгих списків
- Intersection Observer для дій, що активуються в'юпортом
- CSS containment для елементів поза в'юпортом

## Аналітика та відстеження в'юпорта

### Ключові метрики для моніторингу

Відстежуйте ці пов'язані з в'юпортом метрики:

**Розподіл розмірів:**

- Найпоширеніші розміри в'юпортів
- Співвідношення мобільних до десктопних
- Використання портретної vs ландшафтної орієнтації
- Тренди роздільної здатності екранів

**Патерни поведінки:**

- Глибина прокрутки за розміром в'юпорта
- Коефіцієнти конверсії за категорією в'юпорта
- Показники відмов, корельовані з в'юпортом
- Час на сайті за типом пристрою

**Індикатори продуктивності:**

- Час завантаження за розміром в'юпорта
- Метрики продуктивності рендерингу
- Затримки взаємодії за категорією пристрою

### Найкращі практики впровадження

Ефективне відстеження в'юпорта вимагає:

1. **Початкове захоплення в'юпорта** — запис розміру при завантаженні
2. **Моніторинг подій зміни розміру** — відстеження змін під час сесії
3. **Сегментація** — групування в'юпортів у значущі категорії
4. **Перехресний аналіз** — кореляція в'юпорта з іншими метриками
5. **Історичне відстеження** — моніторинг трендів в'юпорта

## Стратегії оптимізації

### Пріоритизація контенту

Адаптуйте контент на основі обмежень в'юпорта:

- Показ/приховування елементів на основі доступного простору
- Перевпорядкування контенту для мобільних в'юпортів
- Налаштування щільності інформації
- Прогресивне розкриття для менших в'юпортів

### Бюджети продуктивності

Встановіть бюджети продуктивності для конкретних в'юпортів:

| Тип в'юпорта | Цільовий час завантаження | Максимальна вага сторінки |
|--------------|---------------------------|---------------------------|
| Мобільний (3G) | <3 секунди | <500KB |
| Мобільний (4G) | <2 секунди | <1MB |
| Десктоп (Broadband) | <1 секунда | <2MB |

### Рекомендації з тестування

Комплексне тестування в'юпорта включає:

- Тестування на реальних пристроях різних розмірів
- Емуляція пристроїв у інструментах розробника
- Автоматизоване візуальне регресійне тестування
- Пріоритетне тестування на основі аналітики
- Тестування масштабування для доступності

!!! success "Найкраща практика"
    Тестуйте ваш сайт на цих критичних ширинах в'юпорта: 320px, 375px, 768px, 1024px, 1366px та 1920px. Вони покривають більшість користувачів.

## Гнучкі макети

### Техніки дизайну

Техніки дизайну, що адаптуються до будь-якого в'юпорта:

- Гнучкі сітки з використанням відсотків або одиниць fr
- Плавна типографіка з clamp() або одиницями в'юпорта
- Адаптивні зображення з srcset та sizes
- Container queries для адаптивності на рівні компонентів

!!! example "Приклад плавної типографіки"
    ```css
    h1 {
      font-size: clamp(1.5rem, 4vw, 3rem);
    }
    ```
    Це плавно масштабує розмір заголовка між розмірами в'юпорта.

## Майбутні тенденції

### Нові тренди в'юпортів

Будьте готові до еволюції в'юпортів:

- Складані пристрої з кількома станами в'юпорта
- Ультраширокі монітори, що вимагають особливої уваги
- AR/VR в'юпорти з вимірами глибини
- Автомобільні дисплеї з унікальними обмеженнями
- Носимі пристрої з мінімальними в'юпортами

### Нові CSS функції

Майбутні CSS специфікації покращують обробку в'юпорта:

- Container queries для адаптивності на основі компонентів
- Нові одиниці в'юпорта (dvi, dvb для inline/block)
- Змінні середовища для налаштувань пристрою
- Houdini API для користувацьких макетів з урахуванням в'юпорта

В'юпорт залишається критичною концепцією у веб-розробці, безпосередньо впливаючи на те, як користувачі сприймають ваш контент. Наша аналітична платформа надає комплексні інструменти відстеження та аналізу в'юпорта, щоб допомогти вам оптимізувати для вашої реальної бази користувачів, а не припущень.